model:
  name: Blueprint
  fields:
    - name: id
      doc:
        returns: The identifier of the blueprint
    - name: created_at
      doc:
        returns: Timestamp of blueprint creation
    - name: main_file_name
      doc:
        returns: Blueprint main file name
    - name: plan
      doc:
        returns: The content of the blueprint
        description: "Gets the plan the blueprint represents: nodes, relationships, etc.."
    - name: description
      doc:
        description: Gets the description of the blueprint
client:
  name: BlueprintClient
  functions:
    - name: list
      endpoint:
        url: '/blueprints'
        method: 'get'
      doc:
        returns: Blueprint list
      args:
        - name: _include
          doc:
            description: List of fields to include in response
        - name: "**kwargs"
          doc:
            description: Optional filter fields. For a list of available fields see REST service's models.BlueprintState.field
    - name: publish_archive
      doc:
        description: Publishes the blueprint archive to the Cloudify manager
        comment: |
          Archive file should contain a single directory in which there is a blueprint file named
          `blueprint_filename` (if `blueprint_filename` is None, this value will be passed to the REST service
          where a default value should be used). Blueprint ID parameter is available for specifying  the
          blueprint's unique id.
      args:
        - name: archive_location
          doc:
            description: Path or URL to the archive file
        - name: blueprint_id
          doc:
            description: Id of the uploaded blueprint
        - name: blueprint_filename
          default: None
          doc:
            description: The archive's main blueprint yaml filename
            returns: Created Blueprint
    - name: upload
      doc:
        description: Uploads a blueprint to Cloudify's manager.
        returns: Created blueprint.
        comment: |
          Blueprint path should point to the main yaml file of the blueprint to be uploaded. Its
          containing folder will be packed to an archive and get uploaded to the manager. Blueprint ID
          parameter is available for specifying the blueprint's unique Id.
      args:
        - name: blueprint_path
          doc:
            description: Main blueprint yaml file path.
        - name: blueprint_id
          doc:
            description: Id of the uploaded blueprint.
    - name: get
      doc:
        description: Gets a blueprint by its id.
        returns: The blueprint.
      args:
        - name: blueprint_id
          doc:
            description: Blueprint's id to get
        - name: _include
          doc:
            description: List of fields to include in response.
    - name: delete
      endpoint:
        url: '/blueprints/{blueprint_id}'
        method: delete
      doc:
        description: Deletes the blueprint whose id matches the provided blueprint id.
        returns: Deleted blueprint.
      args:
        - name: blueprint_id
          doc:
            description: The id of the blueprint to be deleted.
    - name: download
      doc:
        description: Downloads a previously uploaded blueprint from Cloudify's manager.
      args:
        - name: blueprint_id
          doc:
            description: The Id of the blueprint to be downloaded.
            returns: The file path of the downloaded blueprint
        - name: output_file
          doc:
            description: The file path of the downloaded blueprint file (optional)